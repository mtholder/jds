<!DOCTYPE html>
<html lang="${request.locale_name}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="pyramid web application">
    <meta name="author" content="Pylons Project">
    <link rel="shortcut icon" href="${request.static_url('jds:static/pyramid-16x16.png')}">
    <title>JS dot rendering</title>
    <!-- Bootstrap core CSS -->
    <!-- Custom styles for this scaffold -->
    <!--link href="${request.static_url('jds:static/theme.css')}" rel="stylesheet" -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="//oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
<style type='text/css'>
svg {
    overflow: hidden;
}

.node rect {
    stroke: #333;
    stroke-width: 1.5px;
    fill: #fff;
}

.edgeLabel rect {
    fill: #fff;
}

.edgePath {
    stroke: #333;
    stroke-width: 1.5px;
    fill: none;
}
</style>
    <div class="blank">
      <svg id="graphContainer">
        <g/>
      </svg>
    </div>
    <div class="row">
      <div class="links">
        <ul>
          <li class="current-version">Developed from <a href="http://stackoverflow.com/a/24736418">this example</a>.</li>
          <li class="current-version">Uses <a href="https://github.com/cpettitt/dagre-d3">dagre-d3</a></li>
          <li class="current-version">Uses <a href="https://github.com/cpettitt/graphlib-dot">graphlib-dot</a></li>
          <li class="current-version">Generated by Pyramids v1.5.2</li>
          <li><i class="glyphicon glyphicon-bookmark icon-muted"></i><a href="http://docs.pylonsproject.org/projects/pyramid/en/1.5-branch/">Docs</a></li>
          <li><i class="glyphicon glyphicon-cog icon-muted"></i><a href="https://github.com/Pylons/pyramid">Github Project</a></li>
          <li><i class="glyphicon glyphicon-globe icon-muted"></i><a href="irc://irc.freenode.net#pyramid">IRC Channel</a></li>
          <li><i class="glyphicon glyphicon-home icon-muted"></i><a href="http://pylonsproject.org">Pylons Project</a></li>
      </div >


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//oss.maxcdn.com/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="//oss.maxcdn.com/libs/twitter-bootstrap/3.0.3/js/bootstrap.min.js"></script>
    <script type='text/javascript' src="http://d3js.org/d3.v3.js"></script>
    <script type='text/javascript' src="http://cpettitt.github.io/project/dagre-d3/v0.1.5/dagre-d3.min.js"></script>
    <script type='text/javascript' src="http://cpettitt.github.io/project/graphlib-dot/v0.4.10/graphlib-dot.min.js"></script>
<script type='text/javascript'>
window.onload=function(){
    // Parse the DOT syntax into a graphlib object.
    var g = graphlibDot.parse('${structure:dot}');
    // Render the graphlib object using d3.
    var renderer = new dagreD3.Renderer();
    renderer.run(g, d3.select("svg g"));


    // Optional - resize the SVG element based on the contents.
    var svg=document.querySelector('#graphContainer');
    var bbox=svg.getBBox();
    svg.style.width=bbox.width + 40.0 + "px";
    svg.style.height=bbox.height + 40.0 + "px";
}
</script>
  </body>
</html>
